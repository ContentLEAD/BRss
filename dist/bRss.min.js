/*! bRss 10-03-2016 */
function JAtom(a){this._parse(a)}function JFeed(a){a&&this.parse(a)}function JFeedItem(){}function JRss(a){this._parse(a)}$.fn.extend({BraftonRss:function(a){a.container=this,jQuery.getFeed({url:"http://tech.brafton.com/brss/py/brss.py?url="+a.url,dateformat:a.dateformat,container:a.container,image:a.image,date:a.date,category:a.category,catheader:a.catheader,author:a.author,authorheader:a.authorheader,description:a.description,wrapper:a.wrapper,wrappername:a.wrappername,style:a.style,count:a.count,success:function(b){var c="";switch(this.wrapper&&(c+='<div class="'+this.wrappername+'">'),this.style){case"grid":c+='<style type="text/css">.item {float: left; width: 33.3%; padding: 0px 10px; box-sizing: border-box;} .item img {max-width: 100%;}</style>';break;case"zrss":c+='<style type="text/css">.rssRow {float: left; width: 33.3%; padding: 0px 10px; box-sizing: border-box;} .item img {max-width: 100%;}</style>';break;case"grid4":c+='<style type="text/css">.item {float: left; width: 25%; padding: 0px 10px; box-sizing: border-box;} .item img {max-width: 100%;}</style>';break;case"grid4box":c+='<style type="text/css">.item {float: left; width: 50%; padding: 0px 10px; box-sizing: border-box;} .item:nth-of-type(odd) {clear: both;} .item img {max-width: 100%;}</style>';break;case"grid5":c+='<style type="text/css">.item {float: left; width: 33.3%; padding: 0px 10px; box-sizing: border-box;} .item:nth-of-type(4) {clear: both; width: 50%;} .item:nth-of-type(5) {width: 50%;} .item img {max-width: 100%;}</style>';break;case"grid6":c+='<style type="text/css">.item {float: left; width: 33.3%; padding: 0px 10px; box-sizing: border-box;} .item:nth-of-type(4) {clear: both;} .item img {max-width: 100%;}</style>';default:c+=""}this.container.append('<div class="rssHeader title"><h2><a href="'+b.link+'">'+b.title+"</a></h2></div>");for(var d=0;d<b.items.length&&d<this.count;d++){var e=b.items[d];if(c+='<div class="rssRow item"><h3><a href="'+e.link+'">'+e.title+"</a></h3>",this.date)switch(this.dateformat){case"shortdate":c+='<div class="date updated">'+e.shortdate+"</div>";break;case"fullmonths":c+='<div class="date updated">'+e.fullmonths+"</div>";break;default:c+='<div class="date updated">'+e.updated+"</div>"}this.category&&(c+='<div class="category"><strong>'+this.catheader+"</strong>"+e.category+"</div>"),this.author&&(c+='<div class="author"><strong>'+this.authorheader+"</strong>"+e.author+"</div>"),this.image&&(c+='<div class="image"><a target="_blank" href="'+e.link+'"><img src="'+e.image+'" /></a></div>'),this.description&&(c+='<div class="description">'+e.description+"</div>"),c+="</div>"}jQuery(a.container).append(c),this.container&&(c+="</div>")}})}}),JAtom.prototype={_parse:function(a){var b=jQuery("feed",a).eq(0);this.version="1.0",this.title=jQuery(b).find("title:first").text(),this.link=jQuery(b).find("link:first").attr("href"),this.description=jQuery(b).find("subtitle:first").text(),this.language=jQuery(b).attr("xml:lang"),this.updated=jQuery(b).find("updated:first").text(),this.items=new Array;var c=this;jQuery("entry",a).each(function(){var a=new JFeedItem;a.title=jQuery(this).find("title").eq(0).text(),a.link=jQuery(this).find("link").eq(0).attr("href"),a.description=jQuery(this).find("content").eq(0).text(),a.updated=jQuery(this).find("updated").eq(0).text(),a.id=jQuery(this).find("id").eq(0).text(),c.items.push(a)})}},jQuery.getFeed=function(a){return a=jQuery.extend({url:null,data:null,cache:!1,success:null,failure:null,error:null,global:!0,ShowPubDate:!0,DateFormat:null,image:null},a),a.url?(jQuery.isFunction(a.failure)&&"null"===jQuery.type(a.error)?a.error=function(b,c,d){a.failure(c,d)}:jQuery.type(a.failure)===jQuery.type(a.error)==="null"&&(a.error=function(a,b,c){window.console&&console.log("getFeed failed to load feed",a,b,c)}),$.ajax({type:"GET",url:a.url,data:a.data,cache:a.cache,success:function(b){var c=new JFeed(b);jQuery.isFunction(a.success)&&a.success(c)},error:a.error,global:a.global})):void 0},JFeed.prototype={type:"",version:"",title:"",link:"",description:"",category:"",image:"",author:"",parse:function(a){if(1==jQuery("channel",a).length){this.type="rss";var b=new JRss(a)}else if(1==jQuery("feed",a).length){this.type="atom";var b=new JAtom(a)}b&&jQuery.extend(this,b)}},JFeedItem.prototype={title:"",link:"",description:"",updated:"",category:"",id:"",image:"",author:""},JRss.prototype={_parse:function(a){0==jQuery("rss",a).length?this.version="1.0":this.version=jQuery("rss",a).eq(0).attr("version");var b=jQuery("channel",a).eq(0);this.title=jQuery(b).find("title:first").text(),this.link=jQuery(b).find("link:first").text(),this.description=jQuery(b).find("description:first").text(),this.language=jQuery(b).find("language:first").text(),this.updated=jQuery(b).find("lastBuildDate:first").text(),this.items=new Array;var c=this;jQuery("item",a).each(function(){var a=new JFeedItem;a.title=jQuery(this).find("title").eq(0).text(),a.link=jQuery(this).find("link").eq(0).text(),a.category=jQuery(this).find("category").eq(0).text(),a.author=jQuery(this).find("creator").eq(0).text(),a.description=jQuery(this).find("description").eq(0).text();var b=["January","February","March","April","May","June","July","August","September","October","November","December"],d=new Date(jQuery(this).find("pubDate").eq(0).text());a.updated=jQuery(this).find("pubDate").eq(0).text(),a.shortdate=d.getMonth()+1+"/"+d.getDate()+"/"+d.getFullYear(),a.fullmonths=b[d.getMonth()]+" "+d.getDate()+", "+d.getFullYear(),a.id=jQuery(this).find("guid").eq(0).text(),a.image=jQuery(this).find("enclosure").attr("url"),c.items.push(a)})}};